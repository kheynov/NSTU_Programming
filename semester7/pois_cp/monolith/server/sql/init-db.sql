drop schema if exists public cascade;
create schema if not exists public;

create table users
(
    id            text primary key,
    name          text not null,
    email         text not null unique,
    password_hash text not null
);

create table refresh_tokens
(
    id         serial primary key,
    user_id    text   not null references users (id) on delete cascade,
    client_id  text   not null,
    token      text   not null unique,
    expires_at bigint not null
);

create table hotels
(
    id         serial primary key,
    name text not null,
    city       text not null,
    address    text not null,
    rating     int  not null
);

create table rooms
(
    id          serial primary key,
    type   text not null,
    price       int  not null,
    number int  not null,
    hotel_id    int references hotels (id)
);

create table reservations
(
    id             text primary key default gen_random_uuid(),
    guest_id       text not null references users (id) on delete cascade,
    arrival_date   date not null,
    departure_date date not null,
    room_id        int references rooms (id)
);

create table employees
(
    id       serial primary key,
    user_id  text not null references users (id) on delete cascade,
    hotel_id int  not null references hotels (id) on delete cascade
);

insert into users (id, name, email, password_hash)
values ('ebd376eb', 'Иванов Иван Иванович', 'ivanov@hotel.kheynov.ru',
        '$2a$12$Zxs4d/nFyQdC1P/Dt53qze9vOkDxcZ/9OnRqnUFmwiZlUpF2DEQ6a'),
       ('a1f8f991', 'Петров Петр Петрович', 'petrov@hotel.kheynov.ru',
        '$2a$12$PWP6J0N/nDoVv3Ik3/lLd.kkg.e4KscLsNcD7cDR8W0JFtWwKY.u6'),
       ('21dde366', 'Сидоров Сидор Сидорович', 'sidorov@hotel.kheynov.ru',
        '$2a$12$VK0uWqfG.J47KxrbRQhyyelDh4SbupY1ErtEJxLBuo26FmlO5D/sW'),
       ('32adf77a', 'Александров Александр Александрович', 'alexandrov@hotel.kheynov.ru',
        '$2a$12$BP6o14ecItdn0r0bcBohOuE6E0mb08ar7ZLMuubyx47HDhQW49Y.e'),
       ('4e0dc99d', 'Андреев Андрей Андреевич', 'andreev@hotel.kheynov.ru',
        '$2a$12$3.DqrMqgsJZACI1yBhN0o.i6J/S16z6.b2QebcCEwCYJrSUpjJ2WW'),
       ('f8d5d633', 'Алексеев Алексей Алексеевич', 'alexeev@hotel.kheynov.ru',
        '$2a$12$snyaFn.7Or93Fv6a4KjlHuscUv6kjwVTmvJIj8mKx68IYDe7NG5I6'),
       ('303bd871', 'Антонов Антон Антонович', 'antonov@hotel.kheynov.ru',
        '$2a$12$qyiduzaStn.wsWVTjMs3qe1fIBAe1rFMnEaaATv9vBjIMzK4QSkb2');

insert into hotels (name, city, address, rating)
values ('Гостиница "Netizen"', 'Москва', 'ул. Ленина, д. 1', 5),
       ('Гостиница "Москва"', 'Москва', 'ул. Ленина, д. 2', 5),
       ('Гостиница "Mariott"', 'Новосибирск', 'ул. Ленина, д. 3', 4),
       ('Гостиница "Виктория"', 'Москва', 'ул. Ленина, д. 4', 3),
       ('Гостиница "Самара"', 'Москва', 'ул. Ленина, д. 5', 4),
       ('Дом-слон', 'Москва', 'ул. Ленина, д. 6', 3),
       ('Grand Autograph', 'Новосибирск', 'ул. Ленина, д. 7', 5);


insert into employees (user_id, hotel_id)
values ('ebd376eb', 1),
       ('a1f8f991', 2),
       ('21dde366', 3),
       ('32adf77a', 4),
       ('4e0dc99d', 5),
       ('f8d5d633', 6),
       ('303bd871', 7);

insert into rooms (type, price, number, hotel_id)
values ('3-х местный', 11500, 1, 1),
       ('2-х местный', 9000, 2, 1),
       ('2-х местный', 8000, 3, 1),
       ('2-х местный', 7500, 4, 1),
       ('2-х местный', 5600, 5, 1),
       ('2-х местный', 9000, 6, 1),
       ('1 местный', 5600, 7, 1),
       ('2 местный', 6000, 8, 1),
       ('3 местный', 14000, 9, 1),
       ('1 местный', 5000, 10, 1),
       ('1 местный', 5500, 11, 1),
       ('2 местный', 7500, 12, 1),
       ('1 местный', 3500, 13, 1),
       ('3 местный', 6500, 14, 1),
       ('1 местный', 2500, 15, 1),
       ('4 местный', 25500, 16, 1),
       ('1 местный', 4500, 17, 1),
       ('1 местный', 4700, 18, 1),
       ('2 местный', 8500, 19, 1),
       ('1 местный', 3500, 20, 1),
       ('1 местный', 4500, 21, 1),
       ('3 местный', 12500, 22, 1),
       ('1 местный', 4000, 23, 1),
       ('1 местный', 4200, 24, 1),
       ('2 местный', 8500, 25, 1),
       ('1 местный', 2500, 26, 1),
       ('2 местный', 8500, 27, 1),
       ('1 местный', 4500, 28, 1),
       ('1 местный', 4500, 29, 1),
       ('3 местный', 14500, 30, 1),
       ('1 местный', 4300, 31, 1),
       ('1 местный', 4500, 32, 1),
       ('4 местный', 17500, 33, 1),
       ('1 местный', 4500, 34, 1),
       ('4 местный', 45500, 35, 1),
       ('1 местный', 4500, 36, 1),
       ('2 местный', 9500, 37, 1),
       ('1 местный', 4500, 38, 1),

       ('3-х местный', 11500, 1, 2),
       ('2-х местный', 9000, 2, 2),
       ('2-х местный', 8000, 3, 2),
       ('2-х местный', 7500, 4, 2),
       ('2-х местный', 5600, 5, 2),
       ('2-х местный', 9000, 6, 2),
       ('1 местный', 5600, 7, 2),
       ('2 местный', 6000, 8, 2),
       ('3 местный', 14000, 9, 2),
       ('1 местный', 5000, 10, 2),
       ('1 местный', 5500, 11, 2),
       ('2 местный', 7500, 12, 2),
       ('1 местный', 3500, 13, 2),
       ('3 местный', 6500, 14, 2),
       ('1 местный', 2500, 15, 2),
       ('4 местный', 25500, 16, 2),
       ('1 местный', 4500, 17, 2),
       ('1 местный', 4700, 18, 2),
       ('2 местный', 8500, 19, 2),
       ('1 местный', 3500, 20, 2),
       ('1 местный', 4500, 21, 2),
       ('3 местный', 12500, 22, 2),
       ('1 местный', 4000, 23, 2),
       ('1 местный', 4200, 24, 2),
       ('2 местный', 8500, 25, 2),
       ('1 местный', 2500, 26, 2),
       ('2 местный', 8500, 27, 2),
       ('1 местный', 4500, 28, 2),
       ('1 местный', 4500, 29, 2),
       ('3 местный', 14500, 30, 2),
       ('1 местный', 4300, 31, 2),
       ('1 местный', 4500, 32, 2),
       ('4 местный', 17500, 33, 2),
       ('1 местный', 4500, 34, 2),
       ('4 местный', 45500, 35, 2),
       ('1 местный', 4500, 36, 2),
       ('2 местный', 9500, 37, 2),
       ('1 местный', 4500, 38, 2),

       ('3-х местный', 11500, 1, 3),
       ('2-х местный', 9000, 2, 3),
       ('2-х местный', 8000, 3, 3),
       ('2-х местный', 7500, 4, 3),
       ('2-х местный', 5600, 5, 3),
       ('2-х местный', 9000, 6, 3),
       ('1 местный', 5600, 7, 3),
       ('2 местный', 6000, 8, 3),
       ('3 местный', 14000, 9, 3),
       ('1 местный', 5000, 10, 3),
       ('1 местный', 5500, 11, 3),
       ('2 местный', 7500, 12, 3),
       ('1 местный', 3500, 13, 3),
       ('3 местный', 6500, 14, 3),
       ('1 местный', 2500, 15, 3),
       ('4 местный', 25500, 16, 3),
       ('1 местный', 4500, 17, 3),
       ('1 местный', 4700, 18, 3),
       ('2 местный', 8500, 19, 3),
       ('1 местный', 3500, 20, 3),
       ('1 местный', 4500, 21, 3),
       ('3 местный', 12500, 22, 3),
       ('1 местный', 4000, 23, 3),
       ('1 местный', 4200, 24, 3),
       ('2 местный', 8500, 25, 3),
       ('1 местный', 2500, 26, 3),
       ('2 местный', 8500, 27, 3),
       ('1 местный', 4500, 28, 3),
       ('1 местный', 4500, 29, 3),
       ('3 местный', 14500, 30, 3),
       ('1 местный', 4300, 31, 3),
       ('1 местный', 4500, 32, 3),
       ('4 местный', 17500, 33, 3),
       ('1 местный', 4500, 34, 3),
       ('4 местный', 45500, 35, 3),
       ('1 местный', 4500, 36, 3),
       ('2 местный', 9500, 37, 3),
       ('1 местный', 4500, 38, 3),

       ('3-х местный', 11500, 1, 4),
       ('2-х местный', 9000, 2, 4),
       ('2-х местный', 8000, 3, 4),
       ('2-х местный', 7500, 4, 4),
       ('2-х местный', 5600, 5, 4),
       ('2-х местный', 9000, 6, 4),
       ('1 местный', 5600, 7, 4),
       ('2 местный', 6000, 8, 4),
       ('3 местный', 14000, 9, 4),
       ('1 местный', 5000, 10, 4),
       ('1 местный', 5500, 11, 4),
       ('2 местный', 7500, 12, 4),
       ('1 местный', 3500, 13, 4),
       ('3 местный', 6500, 14, 4),
       ('1 местный', 2500, 15, 4),
       ('4 местный', 25500, 16, 4),
       ('1 местный', 4500, 17, 4),
       ('1 местный', 4700, 18, 4),
       ('2 местный', 8500, 19, 4),
       ('1 местный', 3500, 20, 4),
       ('1 местный', 4500, 21, 4),
       ('3 местный', 12500, 22, 4),
       ('1 местный', 4000, 23, 4),
       ('1 местный', 4200, 24, 4),
       ('2 местный', 8500, 25, 4),
       ('1 местный', 2500, 26, 4),
       ('2 местный', 8500, 27, 4),
       ('1 местный', 4500, 28, 4),
       ('1 местный', 4500, 29, 4),
       ('3 местный', 14500, 30, 4),
       ('1 местный', 4300, 31, 4),
       ('1 местный', 4500, 32, 4),
       ('4 местный', 17500, 33, 4),
       ('1 местный', 4500, 34, 4),
       ('4 местный', 45500, 35, 4),
       ('1 местный', 4500, 36, 4),
       ('2 местный', 9500, 37, 4),
       ('1 местный', 4500, 38, 4),

       ('3-х местный', 11500, 1, 5),
       ('2-х местный', 9000, 2, 5),
       ('2-х местный', 8000, 3, 5),
       ('2-х местный', 7500, 4, 5),
       ('2-х местный', 5600, 5, 5),
       ('2-х местный', 9000, 6, 5),
       ('1 местный', 5600, 7, 5),
       ('2 местный', 6000, 8, 5),
       ('3 местный', 14000, 9, 5),
       ('1 местный', 5000, 10, 5),
       ('1 местный', 5500, 11, 5),
       ('2 местный', 7500, 12, 5),
       ('1 местный', 3500, 13, 5),
       ('3 местный', 6500, 14, 5),
       ('1 местный', 2500, 15, 5),
       ('4 местный', 25500, 16, 5),
       ('1 местный', 4500, 17, 5),
       ('1 местный', 4700, 18, 5),
       ('2 местный', 8500, 19, 5),
       ('1 местный', 3500, 20, 5),
       ('1 местный', 4500, 21, 5),
       ('3 местный', 12500, 22, 5),
       ('1 местный', 4000, 23, 5),
       ('1 местный', 4200, 24, 5),
       ('2 местный', 8500, 25, 5),
       ('1 местный', 2500, 26, 5),
       ('2 местный', 8500, 27, 5),
       ('1 местный', 4500, 28, 5),
       ('1 местный', 4500, 29, 5),
       ('3 местный', 14500, 30, 5),
       ('1 местный', 4300, 31, 5),
       ('1 местный', 4500, 32, 5),
       ('4 местный', 17500, 33, 5),
       ('1 местный', 4500, 34, 5),
       ('4 местный', 45500, 35, 5),
       ('1 местный', 4500, 36, 5),
       ('2 местный', 9500, 37, 5),
       ('1 местный', 4500, 38, 5),

       ('3-х местный', 11500, 1, 6),
       ('2-х местный', 9000, 2, 6),
       ('2-х местный', 8000, 3, 6),
       ('2-х местный', 7500, 4, 6),
       ('2-х местный', 5600, 5, 6),
       ('2-х местный', 9000, 6, 6),
       ('1 местный', 5600, 7, 6),
       ('2 местный', 6000, 8, 6),
       ('3 местный', 14000, 9, 6),
       ('1 местный', 5000, 10, 6),
       ('1 местный', 5500, 11, 6),
       ('2 местный', 7500, 12, 6),
       ('1 местный', 3500, 13, 6),
       ('3 местный', 6500, 14, 6),
       ('1 местный', 2500, 15, 6),
       ('4 местный', 25500, 16, 6),
       ('1 местный', 4500, 17, 6),
       ('1 местный', 4700, 18, 6),
       ('2 местный', 8500, 19, 6),
       ('1 местный', 3500, 20, 6),
       ('1 местный', 4500, 21, 6),
       ('3 местный', 12500, 22, 6),
       ('1 местный', 4000, 23, 6),
       ('1 местный', 4200, 24, 6),
       ('2 местный', 8500, 25, 6),
       ('1 местный', 2500, 26, 6),
       ('2 местный', 8500, 27, 6),
       ('1 местный', 4500, 28, 6),
       ('1 местный', 4500, 29, 6),
       ('3 местный', 14500, 30, 6),
       ('1 местный', 4300, 31, 6),
       ('1 местный', 4500, 32, 6),
       ('4 местный', 17500, 33, 6),
       ('1 местный', 4500, 34, 6),
       ('4 местный', 45500, 35, 6),
       ('1 местный', 4500, 36, 6),
       ('2 местный', 9500, 37, 6),
       ('1 местный', 4500, 38, 6),

       ('3-х местный', 11500, 1, 7),
       ('2-х местный', 9000, 2, 7),
       ('2-х местный', 8000, 3, 7),
       ('2-х местный', 7500, 4, 7),
       ('2-х местный', 5600, 5, 7),
       ('2-х местный', 9000, 6, 7),
       ('1 местный', 5600, 7, 7),
       ('2 местный', 6000, 8, 7),
       ('3 местный', 14000, 9, 7),
       ('1 местный', 5000, 10, 7),
       ('1 местный', 5500, 11, 7),
       ('2 местный', 7500, 12, 7),
       ('1 местный', 3500, 13, 7),
       ('3 местный', 6500, 14, 7),
       ('1 местный', 2500, 15, 7),
       ('4 местный', 25500, 16, 7),
       ('1 местный', 4500, 17, 7),
       ('1 местный', 4700, 18, 7),
       ('2 местный', 8500, 19, 7),
       ('1 местный', 3500, 20, 7),
       ('1 местный', 4500, 21, 7),
       ('3 местный', 12500, 22, 7),
       ('1 местный', 4000, 23, 7),
       ('1 местный', 4200, 24, 7),
       ('2 местный', 8500, 25, 7),
       ('1 местный', 2500, 26, 7),
       ('2 местный', 8500, 27, 7),
       ('1 местный', 4500, 28, 7),
       ('1 местный', 4500, 29, 7),
       ('3 местный', 14500, 30, 7),
       ('1 местный', 4300, 31, 7),
       ('1 местный', 4500, 32, 7),
       ('4 местный', 17500, 33, 7),
       ('1 местный', 4500, 34, 7),
       ('4 местный', 45500, 35, 7),
       ('1 местный', 4500, 36, 7),
       ('2 местный', 9500, 37, 7),
       ('1 местный', 4500, 38, 7);
